{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import pandas as pd\n",
    "import scipy\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "import sklearn"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "raw_data = pd.read_csv('https://tf-assets-prod.s3.amazonaws.com/tf-curric/data-science/epi_r.csv')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>title</th>\n",
       "      <th>rating</th>\n",
       "      <th>calories</th>\n",
       "      <th>protein</th>\n",
       "      <th>fat</th>\n",
       "      <th>sodium</th>\n",
       "      <th>#cakeweek</th>\n",
       "      <th>#wasteless</th>\n",
       "      <th>22-minute meals</th>\n",
       "      <th>3-ingredient recipes</th>\n",
       "      <th>...</th>\n",
       "      <th>yellow squash</th>\n",
       "      <th>yogurt</th>\n",
       "      <th>yonkers</th>\n",
       "      <th>yuca</th>\n",
       "      <th>zucchini</th>\n",
       "      <th>cookbooks</th>\n",
       "      <th>leftovers</th>\n",
       "      <th>snack</th>\n",
       "      <th>snack week</th>\n",
       "      <th>turkey</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Lentil, Apple, and Turkey Wrap</td>\n",
       "      <td>2.500</td>\n",
       "      <td>426.0</td>\n",
       "      <td>30.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>559.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Boudin Blanc Terrine with Red Onion Confit</td>\n",
       "      <td>4.375</td>\n",
       "      <td>403.0</td>\n",
       "      <td>18.0</td>\n",
       "      <td>23.0</td>\n",
       "      <td>1439.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Potato and Fennel Soup Hodge</td>\n",
       "      <td>3.750</td>\n",
       "      <td>165.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>165.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Mahi-Mahi in Tomato Olive Sauce</td>\n",
       "      <td>5.000</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Spinach Noodle Casserole</td>\n",
       "      <td>3.125</td>\n",
       "      <td>547.0</td>\n",
       "      <td>20.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>452.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 680 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                         title  rating  calories  protein  \\\n",
       "0              Lentil, Apple, and Turkey Wrap    2.500     426.0     30.0   \n",
       "1  Boudin Blanc Terrine with Red Onion Confit    4.375     403.0     18.0   \n",
       "2                Potato and Fennel Soup Hodge    3.750     165.0      6.0   \n",
       "3             Mahi-Mahi in Tomato Olive Sauce    5.000       NaN      NaN   \n",
       "4                    Spinach Noodle Casserole    3.125     547.0     20.0   \n",
       "\n",
       "    fat  sodium  #cakeweek  #wasteless  22-minute meals  3-ingredient recipes  \\\n",
       "0   7.0   559.0        0.0         0.0              0.0                   0.0   \n",
       "1  23.0  1439.0        0.0         0.0              0.0                   0.0   \n",
       "2   7.0   165.0        0.0         0.0              0.0                   0.0   \n",
       "3   NaN     NaN        0.0         0.0              0.0                   0.0   \n",
       "4  32.0   452.0        0.0         0.0              0.0                   0.0   \n",
       "\n",
       "    ...    yellow squash  yogurt  yonkers  yuca  zucchini  cookbooks  \\\n",
       "0   ...              0.0     0.0      0.0   0.0       0.0        0.0   \n",
       "1   ...              0.0     0.0      0.0   0.0       0.0        0.0   \n",
       "2   ...              0.0     0.0      0.0   0.0       0.0        0.0   \n",
       "3   ...              0.0     0.0      0.0   0.0       0.0        0.0   \n",
       "4   ...              0.0     0.0      0.0   0.0       0.0        0.0   \n",
       "\n",
       "   leftovers  snack  snack week  turkey  \n",
       "0        0.0    0.0         0.0     1.0  \n",
       "1        0.0    0.0         0.0     0.0  \n",
       "2        0.0    0.0         0.0     0.0  \n",
       "3        0.0    0.0         0.0     0.0  \n",
       "4        0.0    0.0         0.0     0.0  \n",
       "\n",
       "[5 rows x 680 columns]"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "raw_data.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "4.375    8019\n",
       "3.750    5169\n",
       "5.000    2719\n",
       "0.000    1836\n",
       "3.125    1489\n",
       "2.500     532\n",
       "1.250     164\n",
       "1.875     124\n",
       "Name: rating, dtype: int64"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "#confirm that there are only limited values for column rating. Can do classification. \n",
    "\n",
    "raw_data['rating'].value_counts()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "calories    4117\n",
       "protein     4162\n",
       "fat         4183\n",
       "sodium      4119\n",
       "dtype: int64"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "null_count = raw_data.isnull().sum()\n",
    "null_count[null_count>0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "# a dataframe without null value columns and without string variable.\n",
    "numerical_columns = raw_data.drop(columns = ['calories', 'protein', 'fat', 'sodium',\"title\"])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>rating</th>\n",
       "      <th>bon appétit</th>\n",
       "      <th>peanut free</th>\n",
       "      <th>soy free</th>\n",
       "      <th>tree nut free</th>\n",
       "      <th>bake</th>\n",
       "      <th>roast</th>\n",
       "      <th>fall</th>\n",
       "      <th>sauté</th>\n",
       "      <th>dinner</th>\n",
       "      <th>...</th>\n",
       "      <th>quick &amp; easy</th>\n",
       "      <th>herb</th>\n",
       "      <th>pork</th>\n",
       "      <th>beef</th>\n",
       "      <th>cheese</th>\n",
       "      <th>low carb</th>\n",
       "      <th>mixer</th>\n",
       "      <th>christmas</th>\n",
       "      <th>sugar conscious</th>\n",
       "      <th>braise</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>rating</th>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.124549</td>\n",
       "      <td>0.096087</td>\n",
       "      <td>0.092965</td>\n",
       "      <td>0.081347</td>\n",
       "      <td>0.076978</td>\n",
       "      <td>0.073499</td>\n",
       "      <td>0.067343</td>\n",
       "      <td>0.066553</td>\n",
       "      <td>0.060957</td>\n",
       "      <td>...</td>\n",
       "      <td>0.045216</td>\n",
       "      <td>0.044253</td>\n",
       "      <td>0.042463</td>\n",
       "      <td>0.041550</td>\n",
       "      <td>0.041215</td>\n",
       "      <td>0.040738</td>\n",
       "      <td>0.040620</td>\n",
       "      <td>0.040595</td>\n",
       "      <td>0.040573</td>\n",
       "      <td>0.040155</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>bon appétit</th>\n",
       "      <td>0.124549</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.061149</td>\n",
       "      <td>0.063913</td>\n",
       "      <td>0.044962</td>\n",
       "      <td>0.030444</td>\n",
       "      <td>0.026674</td>\n",
       "      <td>0.043180</td>\n",
       "      <td>0.099250</td>\n",
       "      <td>0.009369</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.056484</td>\n",
       "      <td>0.033095</td>\n",
       "      <td>0.005260</td>\n",
       "      <td>0.003876</td>\n",
       "      <td>0.018655</td>\n",
       "      <td>0.105456</td>\n",
       "      <td>0.004631</td>\n",
       "      <td>0.032142</td>\n",
       "      <td>0.008377</td>\n",
       "      <td>-0.016467</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>peanut free</th>\n",
       "      <td>0.096087</td>\n",
       "      <td>0.061149</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.940721</td>\n",
       "      <td>0.829673</td>\n",
       "      <td>0.120678</td>\n",
       "      <td>-0.004201</td>\n",
       "      <td>0.058404</td>\n",
       "      <td>-0.026809</td>\n",
       "      <td>0.302502</td>\n",
       "      <td>...</td>\n",
       "      <td>0.012621</td>\n",
       "      <td>-0.034418</td>\n",
       "      <td>-0.010724</td>\n",
       "      <td>-0.064831</td>\n",
       "      <td>0.024588</td>\n",
       "      <td>-0.037825</td>\n",
       "      <td>0.070355</td>\n",
       "      <td>0.045733</td>\n",
       "      <td>0.397160</td>\n",
       "      <td>0.003118</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>soy free</th>\n",
       "      <td>0.092965</td>\n",
       "      <td>0.063913</td>\n",
       "      <td>0.940721</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.797465</td>\n",
       "      <td>0.135940</td>\n",
       "      <td>-0.007143</td>\n",
       "      <td>0.061120</td>\n",
       "      <td>-0.031062</td>\n",
       "      <td>0.262148</td>\n",
       "      <td>...</td>\n",
       "      <td>0.003718</td>\n",
       "      <td>-0.030091</td>\n",
       "      <td>-0.019989</td>\n",
       "      <td>-0.075917</td>\n",
       "      <td>0.031370</td>\n",
       "      <td>-0.038442</td>\n",
       "      <td>0.081520</td>\n",
       "      <td>0.052247</td>\n",
       "      <td>0.374030</td>\n",
       "      <td>0.002312</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>tree nut free</th>\n",
       "      <td>0.081347</td>\n",
       "      <td>0.044962</td>\n",
       "      <td>0.829673</td>\n",
       "      <td>0.797465</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.015324</td>\n",
       "      <td>0.006867</td>\n",
       "      <td>0.030067</td>\n",
       "      <td>-0.003808</td>\n",
       "      <td>0.324696</td>\n",
       "      <td>...</td>\n",
       "      <td>0.035121</td>\n",
       "      <td>-0.015649</td>\n",
       "      <td>0.014921</td>\n",
       "      <td>-0.036004</td>\n",
       "      <td>0.025806</td>\n",
       "      <td>-0.026263</td>\n",
       "      <td>0.014187</td>\n",
       "      <td>0.007547</td>\n",
       "      <td>0.417259</td>\n",
       "      <td>0.017306</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>bake</th>\n",
       "      <td>0.076978</td>\n",
       "      <td>0.030444</td>\n",
       "      <td>0.120678</td>\n",
       "      <td>0.135940</td>\n",
       "      <td>0.015324</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.124023</td>\n",
       "      <td>0.101864</td>\n",
       "      <td>-0.106558</td>\n",
       "      <td>-0.099476</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.166958</td>\n",
       "      <td>-0.053403</td>\n",
       "      <td>-0.029927</td>\n",
       "      <td>-0.068730</td>\n",
       "      <td>0.100606</td>\n",
       "      <td>-0.045945</td>\n",
       "      <td>0.226573</td>\n",
       "      <td>0.085989</td>\n",
       "      <td>-0.053774</td>\n",
       "      <td>-0.054522</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>roast</th>\n",
       "      <td>0.073499</td>\n",
       "      <td>0.026674</td>\n",
       "      <td>-0.004201</td>\n",
       "      <td>-0.007143</td>\n",
       "      <td>0.006867</td>\n",
       "      <td>-0.124023</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.095384</td>\n",
       "      <td>-0.018314</td>\n",
       "      <td>0.117109</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.066585</td>\n",
       "      <td>0.061928</td>\n",
       "      <td>0.074578</td>\n",
       "      <td>0.034313</td>\n",
       "      <td>-0.041018</td>\n",
       "      <td>0.024291</td>\n",
       "      <td>-0.046657</td>\n",
       "      <td>0.093091</td>\n",
       "      <td>0.004082</td>\n",
       "      <td>-0.012208</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>fall</th>\n",
       "      <td>0.067343</td>\n",
       "      <td>0.043180</td>\n",
       "      <td>0.058404</td>\n",
       "      <td>0.061120</td>\n",
       "      <td>0.030067</td>\n",
       "      <td>0.101864</td>\n",
       "      <td>0.095384</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.053340</td>\n",
       "      <td>0.019719</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.064816</td>\n",
       "      <td>0.011200</td>\n",
       "      <td>0.046135</td>\n",
       "      <td>0.013499</td>\n",
       "      <td>0.015155</td>\n",
       "      <td>-0.025724</td>\n",
       "      <td>0.003418</td>\n",
       "      <td>0.079175</td>\n",
       "      <td>-0.030923</td>\n",
       "      <td>0.042093</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>sauté</th>\n",
       "      <td>0.066553</td>\n",
       "      <td>0.099250</td>\n",
       "      <td>-0.026809</td>\n",
       "      <td>-0.031062</td>\n",
       "      <td>-0.003808</td>\n",
       "      <td>-0.106558</td>\n",
       "      <td>-0.018314</td>\n",
       "      <td>0.053340</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.043552</td>\n",
       "      <td>...</td>\n",
       "      <td>0.072726</td>\n",
       "      <td>0.015848</td>\n",
       "      <td>0.056020</td>\n",
       "      <td>0.058008</td>\n",
       "      <td>0.000577</td>\n",
       "      <td>0.034613</td>\n",
       "      <td>-0.057843</td>\n",
       "      <td>-0.031909</td>\n",
       "      <td>0.029927</td>\n",
       "      <td>0.010833</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>dinner</th>\n",
       "      <td>0.060957</td>\n",
       "      <td>0.009369</td>\n",
       "      <td>0.302502</td>\n",
       "      <td>0.262148</td>\n",
       "      <td>0.324696</td>\n",
       "      <td>-0.099476</td>\n",
       "      <td>0.117109</td>\n",
       "      <td>0.019719</td>\n",
       "      <td>0.043552</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.005168</td>\n",
       "      <td>0.004338</td>\n",
       "      <td>0.081864</td>\n",
       "      <td>0.097518</td>\n",
       "      <td>0.016989</td>\n",
       "      <td>0.008794</td>\n",
       "      <td>-0.066936</td>\n",
       "      <td>-0.019864</td>\n",
       "      <td>0.211293</td>\n",
       "      <td>0.099234</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>kosher</th>\n",
       "      <td>0.059071</td>\n",
       "      <td>0.048101</td>\n",
       "      <td>0.734778</td>\n",
       "      <td>0.726753</td>\n",
       "      <td>0.595114</td>\n",
       "      <td>0.150978</td>\n",
       "      <td>-0.042470</td>\n",
       "      <td>0.025549</td>\n",
       "      <td>-0.080494</td>\n",
       "      <td>0.052492</td>\n",
       "      <td>...</td>\n",
       "      <td>0.009439</td>\n",
       "      <td>-0.049373</td>\n",
       "      <td>-0.144374</td>\n",
       "      <td>-0.090341</td>\n",
       "      <td>0.000314</td>\n",
       "      <td>-0.044391</td>\n",
       "      <td>0.113320</td>\n",
       "      <td>0.042908</td>\n",
       "      <td>0.234399</td>\n",
       "      <td>-0.020908</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>winter</th>\n",
       "      <td>0.055126</td>\n",
       "      <td>0.010565</td>\n",
       "      <td>0.005969</td>\n",
       "      <td>0.009003</td>\n",
       "      <td>0.000394</td>\n",
       "      <td>0.076251</td>\n",
       "      <td>0.071767</td>\n",
       "      <td>0.117743</td>\n",
       "      <td>0.050662</td>\n",
       "      <td>0.013306</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.056147</td>\n",
       "      <td>-0.001889</td>\n",
       "      <td>0.056856</td>\n",
       "      <td>0.081001</td>\n",
       "      <td>0.042094</td>\n",
       "      <td>-0.012522</td>\n",
       "      <td>0.011574</td>\n",
       "      <td>0.241767</td>\n",
       "      <td>-0.027355</td>\n",
       "      <td>0.105186</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>pescatarian</th>\n",
       "      <td>0.054034</td>\n",
       "      <td>0.051893</td>\n",
       "      <td>0.737887</td>\n",
       "      <td>0.734679</td>\n",
       "      <td>0.596198</td>\n",
       "      <td>0.156435</td>\n",
       "      <td>-0.059494</td>\n",
       "      <td>0.022056</td>\n",
       "      <td>-0.078633</td>\n",
       "      <td>0.024797</td>\n",
       "      <td>...</td>\n",
       "      <td>0.019469</td>\n",
       "      <td>-0.044519</td>\n",
       "      <td>-0.144145</td>\n",
       "      <td>-0.134824</td>\n",
       "      <td>0.005073</td>\n",
       "      <td>-0.039439</td>\n",
       "      <td>0.115373</td>\n",
       "      <td>0.048512</td>\n",
       "      <td>0.253165</td>\n",
       "      <td>-0.062736</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>thanksgiving</th>\n",
       "      <td>0.052990</td>\n",
       "      <td>0.047271</td>\n",
       "      <td>0.068895</td>\n",
       "      <td>0.073177</td>\n",
       "      <td>0.039357</td>\n",
       "      <td>0.100191</td>\n",
       "      <td>0.105347</td>\n",
       "      <td>0.368498</td>\n",
       "      <td>-0.010551</td>\n",
       "      <td>-0.013315</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.076588</td>\n",
       "      <td>0.005387</td>\n",
       "      <td>-0.026946</td>\n",
       "      <td>-0.055540</td>\n",
       "      <td>-0.025650</td>\n",
       "      <td>-0.030819</td>\n",
       "      <td>0.011221</td>\n",
       "      <td>0.227411</td>\n",
       "      <td>-0.007196</td>\n",
       "      <td>-0.018107</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>onion</th>\n",
       "      <td>0.049997</td>\n",
       "      <td>-0.007654</td>\n",
       "      <td>-0.033520</td>\n",
       "      <td>-0.033479</td>\n",
       "      <td>-0.000723</td>\n",
       "      <td>-0.079717</td>\n",
       "      <td>0.043221</td>\n",
       "      <td>0.017058</td>\n",
       "      <td>0.130794</td>\n",
       "      <td>-0.002737</td>\n",
       "      <td>...</td>\n",
       "      <td>0.000870</td>\n",
       "      <td>0.067082</td>\n",
       "      <td>0.046306</td>\n",
       "      <td>0.083195</td>\n",
       "      <td>0.015628</td>\n",
       "      <td>-0.002987</td>\n",
       "      <td>-0.057482</td>\n",
       "      <td>-0.034985</td>\n",
       "      <td>-0.001075</td>\n",
       "      <td>0.081125</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>grill/barbecue</th>\n",
       "      <td>0.048081</td>\n",
       "      <td>0.023203</td>\n",
       "      <td>-0.025231</td>\n",
       "      <td>-0.029103</td>\n",
       "      <td>0.000540</td>\n",
       "      <td>-0.121362</td>\n",
       "      <td>-0.049088</td>\n",
       "      <td>-0.070957</td>\n",
       "      <td>-0.069038</td>\n",
       "      <td>0.090289</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.030000</td>\n",
       "      <td>0.024812</td>\n",
       "      <td>0.048817</td>\n",
       "      <td>0.110263</td>\n",
       "      <td>0.018638</td>\n",
       "      <td>0.083660</td>\n",
       "      <td>-0.039714</td>\n",
       "      <td>-0.051495</td>\n",
       "      <td>0.013468</td>\n",
       "      <td>-0.026068</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>high fiber</th>\n",
       "      <td>0.047827</td>\n",
       "      <td>0.163129</td>\n",
       "      <td>0.121930</td>\n",
       "      <td>0.120871</td>\n",
       "      <td>0.090222</td>\n",
       "      <td>-0.038989</td>\n",
       "      <td>0.029673</td>\n",
       "      <td>0.020187</td>\n",
       "      <td>0.049475</td>\n",
       "      <td>0.144873</td>\n",
       "      <td>...</td>\n",
       "      <td>0.050703</td>\n",
       "      <td>-0.016369</td>\n",
       "      <td>-0.017213</td>\n",
       "      <td>-0.018460</td>\n",
       "      <td>-0.003132</td>\n",
       "      <td>-0.005701</td>\n",
       "      <td>-0.011522</td>\n",
       "      <td>0.006689</td>\n",
       "      <td>0.014159</td>\n",
       "      <td>0.013117</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>gourmet</th>\n",
       "      <td>0.047354</td>\n",
       "      <td>-0.658596</td>\n",
       "      <td>-0.063910</td>\n",
       "      <td>-0.061647</td>\n",
       "      <td>-0.052450</td>\n",
       "      <td>0.035522</td>\n",
       "      <td>0.001012</td>\n",
       "      <td>-0.005805</td>\n",
       "      <td>-0.047849</td>\n",
       "      <td>-0.098862</td>\n",
       "      <td>...</td>\n",
       "      <td>0.163848</td>\n",
       "      <td>0.001791</td>\n",
       "      <td>0.000168</td>\n",
       "      <td>0.004368</td>\n",
       "      <td>-0.008539</td>\n",
       "      <td>-0.072582</td>\n",
       "      <td>0.026192</td>\n",
       "      <td>-0.015517</td>\n",
       "      <td>-0.011474</td>\n",
       "      <td>0.027138</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>no sugar added</th>\n",
       "      <td>0.047197</td>\n",
       "      <td>0.008483</td>\n",
       "      <td>0.491092</td>\n",
       "      <td>0.480710</td>\n",
       "      <td>0.483948</td>\n",
       "      <td>-0.110175</td>\n",
       "      <td>0.030370</td>\n",
       "      <td>0.000413</td>\n",
       "      <td>0.048916</td>\n",
       "      <td>0.262379</td>\n",
       "      <td>...</td>\n",
       "      <td>0.097994</td>\n",
       "      <td>0.040367</td>\n",
       "      <td>0.002649</td>\n",
       "      <td>-0.038821</td>\n",
       "      <td>0.037956</td>\n",
       "      <td>0.022978</td>\n",
       "      <td>-0.068826</td>\n",
       "      <td>-0.025586</td>\n",
       "      <td>0.458361</td>\n",
       "      <td>-0.011385</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>tomato</th>\n",
       "      <td>0.046579</td>\n",
       "      <td>0.011529</td>\n",
       "      <td>-0.055139</td>\n",
       "      <td>-0.047139</td>\n",
       "      <td>-0.028676</td>\n",
       "      <td>-0.070941</td>\n",
       "      <td>-0.012293</td>\n",
       "      <td>-0.038758</td>\n",
       "      <td>0.075195</td>\n",
       "      <td>0.035137</td>\n",
       "      <td>...</td>\n",
       "      <td>0.022133</td>\n",
       "      <td>0.034735</td>\n",
       "      <td>0.027647</td>\n",
       "      <td>0.030703</td>\n",
       "      <td>0.056876</td>\n",
       "      <td>0.025756</td>\n",
       "      <td>-0.055771</td>\n",
       "      <td>-0.072785</td>\n",
       "      <td>-0.025170</td>\n",
       "      <td>0.040348</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>quick &amp; easy</th>\n",
       "      <td>0.045216</td>\n",
       "      <td>-0.056484</td>\n",
       "      <td>0.012621</td>\n",
       "      <td>0.003718</td>\n",
       "      <td>0.035121</td>\n",
       "      <td>-0.166958</td>\n",
       "      <td>-0.066585</td>\n",
       "      <td>-0.064816</td>\n",
       "      <td>0.072726</td>\n",
       "      <td>-0.005168</td>\n",
       "      <td>...</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.010830</td>\n",
       "      <td>-0.022305</td>\n",
       "      <td>-0.012158</td>\n",
       "      <td>0.010763</td>\n",
       "      <td>0.026818</td>\n",
       "      <td>-0.076029</td>\n",
       "      <td>-0.064699</td>\n",
       "      <td>0.089613</td>\n",
       "      <td>-0.049042</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>herb</th>\n",
       "      <td>0.044253</td>\n",
       "      <td>0.033095</td>\n",
       "      <td>-0.034418</td>\n",
       "      <td>-0.030091</td>\n",
       "      <td>-0.015649</td>\n",
       "      <td>-0.053403</td>\n",
       "      <td>0.061928</td>\n",
       "      <td>0.011200</td>\n",
       "      <td>0.015848</td>\n",
       "      <td>0.004338</td>\n",
       "      <td>...</td>\n",
       "      <td>0.010830</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.012166</td>\n",
       "      <td>0.032895</td>\n",
       "      <td>0.046173</td>\n",
       "      <td>0.037210</td>\n",
       "      <td>-0.045197</td>\n",
       "      <td>-0.011448</td>\n",
       "      <td>0.043983</td>\n",
       "      <td>0.008961</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>pork</th>\n",
       "      <td>0.042463</td>\n",
       "      <td>0.005260</td>\n",
       "      <td>-0.010724</td>\n",
       "      <td>-0.019989</td>\n",
       "      <td>0.014921</td>\n",
       "      <td>-0.029927</td>\n",
       "      <td>0.074578</td>\n",
       "      <td>0.046135</td>\n",
       "      <td>0.056020</td>\n",
       "      <td>0.081864</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.022305</td>\n",
       "      <td>0.012166</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.036712</td>\n",
       "      <td>0.043776</td>\n",
       "      <td>-0.003204</td>\n",
       "      <td>-0.039674</td>\n",
       "      <td>-0.000091</td>\n",
       "      <td>0.016533</td>\n",
       "      <td>0.027479</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>beef</th>\n",
       "      <td>0.041550</td>\n",
       "      <td>0.003876</td>\n",
       "      <td>-0.064831</td>\n",
       "      <td>-0.075917</td>\n",
       "      <td>-0.036004</td>\n",
       "      <td>-0.068730</td>\n",
       "      <td>0.034313</td>\n",
       "      <td>0.013499</td>\n",
       "      <td>0.058008</td>\n",
       "      <td>0.097518</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.012158</td>\n",
       "      <td>0.032895</td>\n",
       "      <td>0.036712</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.001207</td>\n",
       "      <td>0.042377</td>\n",
       "      <td>-0.036976</td>\n",
       "      <td>-0.013730</td>\n",
       "      <td>-0.012130</td>\n",
       "      <td>0.148542</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>cheese</th>\n",
       "      <td>0.041215</td>\n",
       "      <td>0.018655</td>\n",
       "      <td>0.024588</td>\n",
       "      <td>0.031370</td>\n",
       "      <td>0.025806</td>\n",
       "      <td>0.100606</td>\n",
       "      <td>-0.041018</td>\n",
       "      <td>0.015155</td>\n",
       "      <td>0.000577</td>\n",
       "      <td>0.016989</td>\n",
       "      <td>...</td>\n",
       "      <td>0.010763</td>\n",
       "      <td>0.046173</td>\n",
       "      <td>0.043776</td>\n",
       "      <td>0.001207</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.002279</td>\n",
       "      <td>-0.001790</td>\n",
       "      <td>-0.019907</td>\n",
       "      <td>0.063739</td>\n",
       "      <td>-0.031700</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>low carb</th>\n",
       "      <td>0.040738</td>\n",
       "      <td>0.105456</td>\n",
       "      <td>-0.037825</td>\n",
       "      <td>-0.038442</td>\n",
       "      <td>-0.026263</td>\n",
       "      <td>-0.045945</td>\n",
       "      <td>0.024291</td>\n",
       "      <td>-0.025724</td>\n",
       "      <td>0.034613</td>\n",
       "      <td>0.008794</td>\n",
       "      <td>...</td>\n",
       "      <td>0.026818</td>\n",
       "      <td>0.037210</td>\n",
       "      <td>-0.003204</td>\n",
       "      <td>0.042377</td>\n",
       "      <td>-0.002279</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.022311</td>\n",
       "      <td>-0.021616</td>\n",
       "      <td>0.025465</td>\n",
       "      <td>0.000077</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>mixer</th>\n",
       "      <td>0.040620</td>\n",
       "      <td>0.004631</td>\n",
       "      <td>0.070355</td>\n",
       "      <td>0.081520</td>\n",
       "      <td>0.014187</td>\n",
       "      <td>0.226573</td>\n",
       "      <td>-0.046657</td>\n",
       "      <td>0.003418</td>\n",
       "      <td>-0.057843</td>\n",
       "      <td>-0.066936</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.076029</td>\n",
       "      <td>-0.045197</td>\n",
       "      <td>-0.039674</td>\n",
       "      <td>-0.036976</td>\n",
       "      <td>-0.001790</td>\n",
       "      <td>-0.022311</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.062368</td>\n",
       "      <td>-0.056997</td>\n",
       "      <td>-0.023297</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>christmas</th>\n",
       "      <td>0.040595</td>\n",
       "      <td>0.032142</td>\n",
       "      <td>0.045733</td>\n",
       "      <td>0.052247</td>\n",
       "      <td>0.007547</td>\n",
       "      <td>0.085989</td>\n",
       "      <td>0.093091</td>\n",
       "      <td>0.079175</td>\n",
       "      <td>-0.031909</td>\n",
       "      <td>-0.019864</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.064699</td>\n",
       "      <td>-0.011448</td>\n",
       "      <td>-0.000091</td>\n",
       "      <td>-0.013730</td>\n",
       "      <td>-0.019907</td>\n",
       "      <td>-0.021616</td>\n",
       "      <td>0.062368</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.013549</td>\n",
       "      <td>0.003362</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>sugar conscious</th>\n",
       "      <td>0.040573</td>\n",
       "      <td>0.008377</td>\n",
       "      <td>0.397160</td>\n",
       "      <td>0.374030</td>\n",
       "      <td>0.417259</td>\n",
       "      <td>-0.053774</td>\n",
       "      <td>0.004082</td>\n",
       "      <td>-0.030923</td>\n",
       "      <td>0.029927</td>\n",
       "      <td>0.211293</td>\n",
       "      <td>...</td>\n",
       "      <td>0.089613</td>\n",
       "      <td>0.043983</td>\n",
       "      <td>0.016533</td>\n",
       "      <td>-0.012130</td>\n",
       "      <td>0.063739</td>\n",
       "      <td>0.025465</td>\n",
       "      <td>-0.056997</td>\n",
       "      <td>-0.013549</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>-0.006664</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>braise</th>\n",
       "      <td>0.040155</td>\n",
       "      <td>-0.016467</td>\n",
       "      <td>0.003118</td>\n",
       "      <td>0.002312</td>\n",
       "      <td>0.017306</td>\n",
       "      <td>-0.054522</td>\n",
       "      <td>-0.012208</td>\n",
       "      <td>0.042093</td>\n",
       "      <td>0.010833</td>\n",
       "      <td>0.099234</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.049042</td>\n",
       "      <td>0.008961</td>\n",
       "      <td>0.027479</td>\n",
       "      <td>0.148542</td>\n",
       "      <td>-0.031700</td>\n",
       "      <td>0.000077</td>\n",
       "      <td>-0.023297</td>\n",
       "      <td>0.003362</td>\n",
       "      <td>-0.006664</td>\n",
       "      <td>1.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>30 rows × 30 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                   rating  bon appétit  peanut free  soy free  tree nut free  \\\n",
       "rating           1.000000     0.124549     0.096087  0.092965       0.081347   \n",
       "bon appétit      0.124549     1.000000     0.061149  0.063913       0.044962   \n",
       "peanut free      0.096087     0.061149     1.000000  0.940721       0.829673   \n",
       "soy free         0.092965     0.063913     0.940721  1.000000       0.797465   \n",
       "tree nut free    0.081347     0.044962     0.829673  0.797465       1.000000   \n",
       "bake             0.076978     0.030444     0.120678  0.135940       0.015324   \n",
       "roast            0.073499     0.026674    -0.004201 -0.007143       0.006867   \n",
       "fall             0.067343     0.043180     0.058404  0.061120       0.030067   \n",
       "sauté            0.066553     0.099250    -0.026809 -0.031062      -0.003808   \n",
       "dinner           0.060957     0.009369     0.302502  0.262148       0.324696   \n",
       "kosher           0.059071     0.048101     0.734778  0.726753       0.595114   \n",
       "winter           0.055126     0.010565     0.005969  0.009003       0.000394   \n",
       "pescatarian      0.054034     0.051893     0.737887  0.734679       0.596198   \n",
       "thanksgiving     0.052990     0.047271     0.068895  0.073177       0.039357   \n",
       "onion            0.049997    -0.007654    -0.033520 -0.033479      -0.000723   \n",
       "grill/barbecue   0.048081     0.023203    -0.025231 -0.029103       0.000540   \n",
       "high fiber       0.047827     0.163129     0.121930  0.120871       0.090222   \n",
       "gourmet          0.047354    -0.658596    -0.063910 -0.061647      -0.052450   \n",
       "no sugar added   0.047197     0.008483     0.491092  0.480710       0.483948   \n",
       "tomato           0.046579     0.011529    -0.055139 -0.047139      -0.028676   \n",
       "quick & easy     0.045216    -0.056484     0.012621  0.003718       0.035121   \n",
       "herb             0.044253     0.033095    -0.034418 -0.030091      -0.015649   \n",
       "pork             0.042463     0.005260    -0.010724 -0.019989       0.014921   \n",
       "beef             0.041550     0.003876    -0.064831 -0.075917      -0.036004   \n",
       "cheese           0.041215     0.018655     0.024588  0.031370       0.025806   \n",
       "low carb         0.040738     0.105456    -0.037825 -0.038442      -0.026263   \n",
       "mixer            0.040620     0.004631     0.070355  0.081520       0.014187   \n",
       "christmas        0.040595     0.032142     0.045733  0.052247       0.007547   \n",
       "sugar conscious  0.040573     0.008377     0.397160  0.374030       0.417259   \n",
       "braise           0.040155    -0.016467     0.003118  0.002312       0.017306   \n",
       "\n",
       "                     bake     roast      fall     sauté    dinner    ...     \\\n",
       "rating           0.076978  0.073499  0.067343  0.066553  0.060957    ...      \n",
       "bon appétit      0.030444  0.026674  0.043180  0.099250  0.009369    ...      \n",
       "peanut free      0.120678 -0.004201  0.058404 -0.026809  0.302502    ...      \n",
       "soy free         0.135940 -0.007143  0.061120 -0.031062  0.262148    ...      \n",
       "tree nut free    0.015324  0.006867  0.030067 -0.003808  0.324696    ...      \n",
       "bake             1.000000 -0.124023  0.101864 -0.106558 -0.099476    ...      \n",
       "roast           -0.124023  1.000000  0.095384 -0.018314  0.117109    ...      \n",
       "fall             0.101864  0.095384  1.000000  0.053340  0.019719    ...      \n",
       "sauté           -0.106558 -0.018314  0.053340  1.000000  0.043552    ...      \n",
       "dinner          -0.099476  0.117109  0.019719  0.043552  1.000000    ...      \n",
       "kosher           0.150978 -0.042470  0.025549 -0.080494  0.052492    ...      \n",
       "winter           0.076251  0.071767  0.117743  0.050662  0.013306    ...      \n",
       "pescatarian      0.156435 -0.059494  0.022056 -0.078633  0.024797    ...      \n",
       "thanksgiving     0.100191  0.105347  0.368498 -0.010551 -0.013315    ...      \n",
       "onion           -0.079717  0.043221  0.017058  0.130794 -0.002737    ...      \n",
       "grill/barbecue  -0.121362 -0.049088 -0.070957 -0.069038  0.090289    ...      \n",
       "high fiber      -0.038989  0.029673  0.020187  0.049475  0.144873    ...      \n",
       "gourmet          0.035522  0.001012 -0.005805 -0.047849 -0.098862    ...      \n",
       "no sugar added  -0.110175  0.030370  0.000413  0.048916  0.262379    ...      \n",
       "tomato          -0.070941 -0.012293 -0.038758  0.075195  0.035137    ...      \n",
       "quick & easy    -0.166958 -0.066585 -0.064816  0.072726 -0.005168    ...      \n",
       "herb            -0.053403  0.061928  0.011200  0.015848  0.004338    ...      \n",
       "pork            -0.029927  0.074578  0.046135  0.056020  0.081864    ...      \n",
       "beef            -0.068730  0.034313  0.013499  0.058008  0.097518    ...      \n",
       "cheese           0.100606 -0.041018  0.015155  0.000577  0.016989    ...      \n",
       "low carb        -0.045945  0.024291 -0.025724  0.034613  0.008794    ...      \n",
       "mixer            0.226573 -0.046657  0.003418 -0.057843 -0.066936    ...      \n",
       "christmas        0.085989  0.093091  0.079175 -0.031909 -0.019864    ...      \n",
       "sugar conscious -0.053774  0.004082 -0.030923  0.029927  0.211293    ...      \n",
       "braise          -0.054522 -0.012208  0.042093  0.010833  0.099234    ...      \n",
       "\n",
       "                 quick & easy      herb      pork      beef    cheese  \\\n",
       "rating               0.045216  0.044253  0.042463  0.041550  0.041215   \n",
       "bon appétit         -0.056484  0.033095  0.005260  0.003876  0.018655   \n",
       "peanut free          0.012621 -0.034418 -0.010724 -0.064831  0.024588   \n",
       "soy free             0.003718 -0.030091 -0.019989 -0.075917  0.031370   \n",
       "tree nut free        0.035121 -0.015649  0.014921 -0.036004  0.025806   \n",
       "bake                -0.166958 -0.053403 -0.029927 -0.068730  0.100606   \n",
       "roast               -0.066585  0.061928  0.074578  0.034313 -0.041018   \n",
       "fall                -0.064816  0.011200  0.046135  0.013499  0.015155   \n",
       "sauté                0.072726  0.015848  0.056020  0.058008  0.000577   \n",
       "dinner              -0.005168  0.004338  0.081864  0.097518  0.016989   \n",
       "kosher               0.009439 -0.049373 -0.144374 -0.090341  0.000314   \n",
       "winter              -0.056147 -0.001889  0.056856  0.081001  0.042094   \n",
       "pescatarian          0.019469 -0.044519 -0.144145 -0.134824  0.005073   \n",
       "thanksgiving        -0.076588  0.005387 -0.026946 -0.055540 -0.025650   \n",
       "onion                0.000870  0.067082  0.046306  0.083195  0.015628   \n",
       "grill/barbecue      -0.030000  0.024812  0.048817  0.110263  0.018638   \n",
       "high fiber           0.050703 -0.016369 -0.017213 -0.018460 -0.003132   \n",
       "gourmet              0.163848  0.001791  0.000168  0.004368 -0.008539   \n",
       "no sugar added       0.097994  0.040367  0.002649 -0.038821  0.037956   \n",
       "tomato               0.022133  0.034735  0.027647  0.030703  0.056876   \n",
       "quick & easy         1.000000  0.010830 -0.022305 -0.012158  0.010763   \n",
       "herb                 0.010830  1.000000  0.012166  0.032895  0.046173   \n",
       "pork                -0.022305  0.012166  1.000000  0.036712  0.043776   \n",
       "beef                -0.012158  0.032895  0.036712  1.000000  0.001207   \n",
       "cheese               0.010763  0.046173  0.043776  0.001207  1.000000   \n",
       "low carb             0.026818  0.037210 -0.003204  0.042377 -0.002279   \n",
       "mixer               -0.076029 -0.045197 -0.039674 -0.036976 -0.001790   \n",
       "christmas           -0.064699 -0.011448 -0.000091 -0.013730 -0.019907   \n",
       "sugar conscious      0.089613  0.043983  0.016533 -0.012130  0.063739   \n",
       "braise              -0.049042  0.008961  0.027479  0.148542 -0.031700   \n",
       "\n",
       "                 low carb     mixer  christmas  sugar conscious    braise  \n",
       "rating           0.040738  0.040620   0.040595         0.040573  0.040155  \n",
       "bon appétit      0.105456  0.004631   0.032142         0.008377 -0.016467  \n",
       "peanut free     -0.037825  0.070355   0.045733         0.397160  0.003118  \n",
       "soy free        -0.038442  0.081520   0.052247         0.374030  0.002312  \n",
       "tree nut free   -0.026263  0.014187   0.007547         0.417259  0.017306  \n",
       "bake            -0.045945  0.226573   0.085989        -0.053774 -0.054522  \n",
       "roast            0.024291 -0.046657   0.093091         0.004082 -0.012208  \n",
       "fall            -0.025724  0.003418   0.079175        -0.030923  0.042093  \n",
       "sauté            0.034613 -0.057843  -0.031909         0.029927  0.010833  \n",
       "dinner           0.008794 -0.066936  -0.019864         0.211293  0.099234  \n",
       "kosher          -0.044391  0.113320   0.042908         0.234399 -0.020908  \n",
       "winter          -0.012522  0.011574   0.241767        -0.027355  0.105186  \n",
       "pescatarian     -0.039439  0.115373   0.048512         0.253165 -0.062736  \n",
       "thanksgiving    -0.030819  0.011221   0.227411        -0.007196 -0.018107  \n",
       "onion           -0.002987 -0.057482  -0.034985        -0.001075  0.081125  \n",
       "grill/barbecue   0.083660 -0.039714  -0.051495         0.013468 -0.026068  \n",
       "high fiber      -0.005701 -0.011522   0.006689         0.014159  0.013117  \n",
       "gourmet         -0.072582  0.026192  -0.015517        -0.011474  0.027138  \n",
       "no sugar added   0.022978 -0.068826  -0.025586         0.458361 -0.011385  \n",
       "tomato           0.025756 -0.055771  -0.072785        -0.025170  0.040348  \n",
       "quick & easy     0.026818 -0.076029  -0.064699         0.089613 -0.049042  \n",
       "herb             0.037210 -0.045197  -0.011448         0.043983  0.008961  \n",
       "pork            -0.003204 -0.039674  -0.000091         0.016533  0.027479  \n",
       "beef             0.042377 -0.036976  -0.013730        -0.012130  0.148542  \n",
       "cheese          -0.002279 -0.001790  -0.019907         0.063739 -0.031700  \n",
       "low carb         1.000000 -0.022311  -0.021616         0.025465  0.000077  \n",
       "mixer           -0.022311  1.000000   0.062368        -0.056997 -0.023297  \n",
       "christmas       -0.021616  0.062368   1.000000        -0.013549  0.003362  \n",
       "sugar conscious  0.025465 -0.056997  -0.013549         1.000000 -0.006664  \n",
       "braise           0.000077 -0.023297   0.003362        -0.006664  1.000000  \n",
       "\n",
       "[30 rows x 30 columns]"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Return the first 30 rows with the largest correlation values in column \"rating\"\n",
    "# we can use another method selectKbest\n",
    "K = 30\n",
    "cols = numerical_columns.corr().nlargest(K,'rating')['rating'].index\n",
    "numerical_columns[cols].corr()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['rating', 'bon appétit', 'peanut free', 'soy free', 'tree nut free',\n",
       "       'bake', 'roast', 'fall', 'sauté', 'dinner', 'kosher', 'winter',\n",
       "       'pescatarian', 'thanksgiving', 'onion', 'grill/barbecue', 'high fiber',\n",
       "       'gourmet', 'no sugar added', 'tomato', 'quick & easy', 'herb', 'pork',\n",
       "       'beef', 'cheese', 'low carb', 'mixer', 'christmas', 'sugar conscious',\n",
       "       'braise'],\n",
       "      dtype='object')"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "cols"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_clf = raw_data[['bon appétit', 'peanut free', 'soy free', 'tree nut free',\n",
    "       'bake', 'roast', 'fall', 'sauté', 'dinner', 'kosher', 'winter',\n",
    "       'pescatarian', 'thanksgiving', 'onion', 'grill/barbecue', 'high fiber',\n",
    "       'gourmet', 'no sugar added', 'tomato', 'quick & easy', 'herb', 'pork',\n",
    "       'beef', 'cheese', 'low carb', 'mixer', 'christmas', 'sugar conscious',\n",
    "       'braise']]\n",
    "Y_clf = raw_data['rating']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/shuyinwu/anaconda3/lib/python3.7/site-packages/sklearn/svm/base.py:196: FutureWarning: The default value of gamma will change from 'auto' to 'scale' in version 0.22 to account better for unscaled features. Set gamma explicitly to 'auto' or 'scale' to avoid this warning.\n",
      "  \"avoid this warning.\", FutureWarning)\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[0.    1.25  1.875 2.5   3.125 3.75  4.375 5.   ]\n"
     ]
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.svm import SVC\n",
    "from sklearn.preprocessing import LabelEncoder\n",
    "\n",
    "encode = LabelEncoder()\n",
    "\n",
    "encoded_y_clf = encode.fit_transform(Y_clf)\n",
    "\n",
    "X_train, X_test, Y_train, Y_test = train_test_split(X_clf, encoded_y_clf, test_size = 0.2, random_state = 465)\n",
    "\n",
    "\n",
    "SVM = SVC()\n",
    "\n",
    "SVM.fit(X_train,Y_train)\n",
    "\n",
    "print(encode.classes_)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[ 114    0    0    0    0    0  231    0]\n",
      " [   5    0    0    0    0    0   24    0]\n",
      " [   2    0    0    0    0    0   33    0]\n",
      " [  10    0    0    0    0    0  115    0]\n",
      " [  16    0    0    0    0    0  285    0]\n",
      " [  47    0    0    0    0    0  988    0]\n",
      " [  58    0    0    0    0    0 1574    0]\n",
      " [  54    0    0    0    0    0  455    0]]\n",
      "---------------\n",
      "Test Size:4011\n"
     ]
    }
   ],
   "source": [
    "#testing the accuracy \n",
    "from sklearn.model_selection import cross_val_score\n",
    "Y_test_predict = SVM.predict(X_test)\n",
    "\n",
    "sklearn.metrics.confusion_matrix(Y_test,Y_test_predict)\n",
    "\n",
    "print(sklearn.metrics.confusion_matrix(Y_test,Y_test_predict))\n",
    "\n",
    "print(\"---------------\")\n",
    "print(\"Test Size:{}\".format(len(Y_test)))\n",
    "\n",
    "print(\"---------------\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Out to 4011 cases, the classifier predicted 306 cases for rating of 0 when in reality, there were 345 cases. The classifier predicted 0 case for people to rate 1.25, 1.875,2.5, 3.125, 3.75 and 5 when there were actually 29 cases for rating of 1.25, 35 cases for rating of 1.875, 125 cases for rating of 2.5, 301 cases for rating of 3.125, 1035 for rating of 3.75, and 509 cases for rating of 5.  The classifier predicted 3705cases for rating of 4.375 when there were only 1632 cases for it. "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "R-squared of the model on the training set is: 0.41157035097562494\n",
      "-----Test set statistics-----\n",
      "R-squared of the model on the test set is: 0.42084268262278735\n"
     ]
    }
   ],
   "source": [
    "print(\"R-squared of the model on the training set is: {}\".format(SVM.score(X_train, Y_train)))\n",
    "print(\"-----Test set statistics-----\")\n",
    "print(\"R-squared of the model on the test set is: {}\".format(SVM.score(X_test, Y_test)))"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This shows us that there is no overfitting issue with the model. The reason why our model has low accuracy is probably because the covered variance is small. We need more feature variables that are high correlated to the feature variable rating.  "
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
